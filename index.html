<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>CYD Perfumer√≠a | Asistente IA</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body { font-family: Arial; background:#f2f2f2; padding:20px; }
.card {
  background:#fff; padding:20px; border-radius:12px;
  max-width:520px; margin:auto;
  box-shadow:0 4px 15px rgba(0,0,0,0.1);
}
label { font-weight:bold; display:block; margin-top:10px; }
select, input, button {
  width:100%; padding:10px; margin-top:6px;
  border-radius:8px; border:1px solid #ccc;
}
button { background:#111; color:#fff; cursor:pointer; }
.perfume {
  background:#eee; padding:10px;
  border-radius:8px; margin-top:10px;
}
.chat {
  background:#fafafa;
  border:1px solid #ccc;
  padding:10px;
  margin-top:20px;
  border-radius:10px;
}
.mensaje-user { font-weight:bold; margin-top:5px; }
.mensaje-ia { margin-left:10px; color:#333; }
.small { font-size:12px; color:#666; }
</style>
</head>

<body>

<div class="card">
<h2>CYD Perfumer√≠a</h2>
<p class="small">Asistente inteligente con inventario real</p>

<label>Modo</label>
<select id="modo">
  <option>Cliente</option>
  <option>Vendedor</option>
</select>

<label>Tipo de piel</label>
<select id="piel">
  <option>Seca</option>
  <option>Normal</option>
  <option>Grasa</option>
</select>

<label>Ocasi√≥n</label>
<select id="ocasion">
  <option>Diario</option>
  <option>Noche</option>
  <option>Eventos</option>
</select>

<label>Estilo</label>
<select id="estilo">
  <option>Fresco</option>
  <option>Dulce</option>
  <option>Amaderado</option>
  <option>Intenso</option>
</select>

<button onclick="recomendar()">Recomendar desde inventario</button>

<div id="resultado"></div>

<div class="chat">
  <strong>üí¨ Chat con Asesor CYD</strong>
  <input id="chatInput" placeholder="Ej: quiero algo dulce para la noche">
  <button onclick="chatIA()">Enviar</button>
  <div id="chatLog"></div>
</div>

</div>

<script>
// INVENTARIO REAL
const inventario = [
  {
    nombre: "La Vie Est Belle",
    marca: "Lanc√¥me",
    estilo: "Dulce",
    ocasion: "Noche",
    piel: "Seca",
    stock: 5
  },
  {
    nombre: "Sauvage",
    marca: "Dior",
    estilo: "Fresco",
    ocasion: "Diario",
    piel: "Grasa",
    stock: 3
  },
  {
    nombre: "212 VIP",
    marca: "Carolina Herrera",
    estilo: "Intenso",
    ocasion: "Eventos",
    piel: "Normal",
    stock: 0
  }
];

function recomendar() {
  const piel = document.getElementById("piel").value;
  const ocasion = document.getElementById("ocasion").value;
  const estilo = document.getElementById("estilo").value;

  const resultados = inventario.filter(p =>
    p.piel === piel &&
    p.ocasion === ocasion &&
    p.estilo === estilo &&
    p.stock > 0
  );

  let html = "<p><strong>Recomendaciones disponibles:</strong></p>";

  if (resultados.length === 0) {
    html += "<p>No hay stock exacto. Sugerimos alternativas similares.</p>";
  }

  resultados.forEach(p => {
    html += `
      <div class="perfume">
        <strong>${p.nombre}</strong><br>
        Marca: ${p.marca}<br>
        Stock: ${p.stock}
      </div>
    `;
  });

  document.getElementById("resultado").innerHTML = html;
}

// CHAT IA SIMULADO
function chatIA() {
  const input = document.getElementById("chatInput").value.toLowerCase();
  const log = document.getElementById("chatLog");

  log.innerHTML += `<div class="mensaje-user">Cliente: ${input}</div>`;

  let respuesta = "Te recomiendo opciones equilibradas disponibles en tienda.";

  inventario.forEach(p => {
    if (
      input.includes(p.estilo.toLowerCase()) &&
      input.includes(p.ocasion.toLowerCase()) &&
      p.stock > 0
    ) {
      respuesta = `Te recomiendo ${p.nombre} de ${p.marca}, ideal para lo que buscas.`;
    }
  });

  log.innerHTML += `<div class="mensaje-ia">Asesor CYD: ${respuesta}</div>`;
  document.getElementById("chatInput").value = "";
}
</script>

</body>
</html>